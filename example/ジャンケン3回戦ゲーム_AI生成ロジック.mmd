mermaid

flowchart TD
  A(開始)
  B[初期化（回数=0、勝敗カウント=0）]
  C[ラウンド開始（回数+1）]
  D/ユーザーに手を入力させる（グー・チョキ・パー）/
  E{入力は有効?}
  F/エラーメッセージ表示（再入力促し）/
  G[コンピュータの手を決定（乱数）]
  H[勝敗判定（ユーザー手 vs コンピュータ手）]
  I{結果は?}
  J[ユーザー勝ち数+1]
  K[コンピュータ勝ち数+1]
  L[あいこ（カウントなし）]
  M/ラウンド結果表示（両者の手・勝敗）/
  N{3回終了?}
  O[最終結果集計（勝ち数比較）]
  P{最終勝者は?}
  Q/最終結果表示（ユーザー勝ち・負け・引き分け）/
  R(終了)

  A --> B --> C --> D --> E
  E --No--> F --> D
  E --Yes--> G --> H --> I
  I --ユーザー勝ち--> J --> M --> N
  I --コンピュータ勝ち--> K --> M --> N
  I --あいこ--> L --> M --> N
  N --No--> C
  N --Yes--> O --> P
  P --ユーザー勝ち--> Q --> R
  P --コンピュータ勝ち--> Q --> R
  P --引き分け--> Q --> R
